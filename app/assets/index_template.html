<!DOCTYPE html>
<html{% if(o.htmlWebpackPlugin.files.manifest) { %} manifest="{%= o.htmlWebpackPlugin.files.manifest %}"{% } %}>
<head>
  <meta charset="UTF-8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="cleartype" content="on">
  <title>{%=o.htmlWebpackPlugin.options.title || 'Webpack App'%}</title>
  {% for (var css in o.htmlWebpackPlugin.files.css) { %}
  <link href="{%=o.htmlWebpackPlugin.files.css[css] %}" rel="stylesheet">
  {% } %}

  <!-- TODO: migrate -->
  <link rel="stylesheet" href="../vendor/bower_components/bootstrap/dist/css/bootstrap.css" type="text/css">
  <!-- resources -->
  <link href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</head>
<body>
  {% for (var chunk in o.htmlWebpackPlugin.files.chunks) { %}
  <script src="{%=o.htmlWebpackPlugin.files.chunks[chunk].entry %}"></script>
  {% } %}
  
  <!-- temp -->
  <script src="../../vendor/bower_components/jquery/dist/jquery.js"></script>
  <script>
    // this is hacky and belongs somewhere else
    var currentTopic = "1";
    function collapse(elem) {
      $(elem).parent().children().toggle();
      $(elem).toggle()
             .toggleClass('variable-list__collapsible--closed');
    }
    function activateTopic(topic) {
      $('.topic-picker__nav li').removeClass('active');
      $(`.topic-picker__nav li[data-topic="${topic}"]`).addClass('active');
      $('.text-wrapper__text').attr('data-topic', topic);

      $('.topic-wrapper').hide();
      $(`.topic-wrapper[data-topic="${topic}"]`).show();
    }

    $(document).ready(_ => {
      $('.topic-picker__pin-button').click(function() {
        $('.topic-picker').toggleClass('topic-picker--open');
        $(this).toggleClass('fa-inverse');
      });
      $('.variable-list .variable-list__collapsible').click(function() {
        collapse(this);
      }).click();
      $('.topic-picker__nav li').click(function() {
        activateTopic($(this).attr('data-topic'));
      });

      activateTopic("1");
    });
  </script>
</body>
</html>
